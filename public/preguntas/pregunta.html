<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestionar Preguntas</title>
  <link rel="stylesheet" href="../preguntas/pregunta.css" />
  <script defer src="../preguntas/pregunta.js"></script>
</head>
<body>
  <header>
    <div class="user-info">
      <img src="../img/doce.png" alt="icono perfil" class="icono" />
      <label id="nombreUsuario"></label>
    </div>

    <nav class="nav-links">
      <button data-page="estudiantes" onclick="location.href='/lista'">Estudiantes</button>
      <button data-page="preguntas" onclick="location.href='/preguntas'">Preguntas</button>
      <button data-page="resultados" onclick="location.href='/resultados'">Resultados</button>
    </nav>
    
    <button id="cerrarSesion">Cerrar sesión</button>
  </header>

  <main>
    <section class="panel">
      <h2>Preguntas Creadas</h2>
      <button id="btnMostrarFormulario">+ Agregar Pregunta</button>
      <button id="btnActualizarFormulario">Actualizar Preguntas</button>
      <div id="listaPreguntas"></div>
    </section>
  </main>

  <div id="modalFormulario" class="modal oculto">
    <div class="modal-contenido form-container">
      <h3>Agregar Pregunta</h3>
      <form id="formPregunta">
        <label>Enunciado:
          <textarea name="enunciado" required></textarea>
        </label>
        <label>Opciones:</label>
        <div class="opciones">
          <div class="opcion-item">
            <input type="text" name="opciones[]" required>
            <input type="radio" name="correcta" value="0" required>
          </div>
          <div class="opcion-item">
            <input type="text" name="opciones[]" required>
            <input type="radio" name="correcta" value="1">
          </div>
          <div class="opcion-item">
            <input type="text" name="opciones[]" required>
            <input type="radio" name="correcta" value="2">
          </div>
          <div class="opcion-item">
            <input type="text" name="opciones[]" required>
            <input type="radio" name="correcta" value="3">
          </div>
        </div>
        <label>Categoría:
          <select name="categoria" required>
            <option value="">Seleccione una categoría</option>
            <option value="matematicas">Matemáticas</option>
            <option value="ciencias">Ciencias Naturales</option>
            <option value="historia">Ciencias Sociales</option>
            <option value="lenguaje">Lengua y Literatura</option>
          </select>
        </label>
        <div class="botones-modal">
          <button type="submit">Guardar Pregunta</button>
          <button type="button" id="cerrarFormulario">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modalVisualizarPregunta" class="modal oculto">
    <div class="modal-contenido form-container">
      <h3>Visualizar Pregunta</h3>
      <label>Enunciado:</label>
      <textarea id="visualizarEnunciado" readonly></textarea>
      <label>Opciones:</label>
      <div class="opciones" id="visualizarOpcionesContainer"></div>
      <label>Categoría:</label>
      <input type="text" id="visualizarCategoria" readonly>
      <div class="botones-modal">
        <button type="button" id="cerrarVisualizar">Cerrar</button>
      </div>
    </div>
  </div>

  <div id="modalModificarPregunta" class="modal oculto">
    <div class="modal-contenido form-container">
      <h3>Modificar Pregunta</h3>
      <form id="formModificarPregunta">
        <input type="hidden" name="id" id="modificarId">
        <label>Enunciado:
          <textarea name="enunciado" id="modificarEnunciado" required></textarea>
        </label>
        <label>Opciones:</label>
        <div class="opciones" id="modificarOpciones"></div>
        <label>Categoría:
          <select name="categoria" id="modificarCategoria" required>
            <option value="">Seleccione una categoría</option>
            <option value="Matemáticas">Matemáticas</option>
            <option value="Ciencias Naturales">Ciencias Naturales</option>
            <option value="Ciencias Sociales">Ciencias Sociales</option>
            <option value="Lengua y Literatura">Lengua y Literatura</option>
          </select>
        </label>
        <div class="botones-modal">
          <button type="submit">Guardar Cambios</button>
          <button type="button" id="cerrarFormulario" onclick="document.getElementById('modalModificarPregunta').classList.add('oculto')">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modalConfirmacion" class="modal oculto"> 
    <div class="modal-contenido confirm-container">
      <p class="texto-confirmacion">¿Estás seguro que deseas eliminar esta pregunta?</p>
      <div class="botones-modal">
        <button id="btnConfirmarEliminar">Sí</button>
        <button id="btnCancelarEliminar">No</button>
      </div>
    </div>
  </div>


  <div id="modalCerrarSesion" class="modal oculto">
    <div class="modal-contenido">
      <p class="mensaje-cierre">Sesión cerrada</p>
    </div>
  </div>


</body>
</html>
